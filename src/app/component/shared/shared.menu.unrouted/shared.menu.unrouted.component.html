<nav class="navbar navbar-expand-lg fw-navbar">
  <div class="container-fluid fw-bar">
    <!-- Izquierda: logo -->
    <a class="navbar-brand fw-brand" [routerLink]="'/home'">
      <span class="brand-gradient">FormAndWork</span>
    </a>

    <!-- Toggler (solo móvil/tablet) -->
    <button class="navbar-toggler fw-toggler d-lg-none" type="button"
            data-bs-toggle="collapse" data-bs-target="#fwNavbar"
            aria-controls="fwNavbar" aria-expanded="false" aria-label="Toggle navigation">
      <span class="navbar-toggler-icon"></span>
    </button>

    <!-- Centro: navegación -->
    <div class="collapse navbar-collapse fw-center" id="fwNavbar">
      <ul class="navbar-nav fw-nav mx-auto">

        <!-- Inicio (siempre) -->
        <li class="nav-item">
          <a class="nav-link fw-link"
             [class.active]="strRuta == '/home' || strRuta == '/' || strRuta == ''"
             [routerLink]="'/home'">
            <i class="bi bi-house"></i> Inicio
            <span class="fw-underline"></span>
          </a>
        </li>

        <!-- ===== ADMIN ===== -->
        @if (activeSession && isAdmin) {
          <li class="nav-item">
            <a class="nav-link fw-link"
               [class.active]="strRuta == '/admin/empresa/plist'"
               [routerLink]="'/admin/empresa/plist'">
              <i class="bi bi-building"></i> Empresas
              <span class="fw-underline"></span>
            </a>
          </li>
          <li class="nav-item">
            <a class="nav-link fw-link"
               [class.active]="strRuta == '/admin/sector/plist'"
               [routerLink]="'/admin/sector/plist'">
              <i class="bi bi-diagram-3"></i> Sectores
              <span class="fw-underline"></span>
            </a>
          </li>
          <li class="nav-item">
            <a class="nav-link fw-link"
               [class.active]="strRuta == '/admin/alumno/plist'"
               [routerLink]="'/admin/alumno/plist'">
              <i class="bi bi-people"></i> Alumnos
              <span class="fw-underline"></span>
            </a>
          </li>
          <li class="nav-item">
            <a class="nav-link fw-link"
               [class.active]="strRuta == '/admin/oferta/plist'"
               [routerLink]="'/admin/oferta/plist'">
              <i class="bi bi-briefcase"></i> Ofertas
              <span class="fw-underline"></span>
            </a>
          </li>
          <li class="nav-item">
            <a class="nav-link fw-link"
               [class.active]="strRuta == '/admin/candidatura/plist'"
               [routerLink]="'/admin/candidatura/plist'">
              <i class="bi bi-file-earmark-text"></i> Candidaturas
              <span class="fw-underline"></span>
            </a>
          </li>
        }

        <!-- ===== ALUMNO ===== -->
        @if (activeSession && isAlumno && !isAdmin) {
          <li class="nav-item">
            <a class="nav-link fw-link"
               [class.active]="strRuta == '/admin/empresa/plist'"
               [routerLink]="'/admin/empresa/plist'">
              <i class="bi bi-building"></i> Empresas
              <span class="fw-underline"></span>
            </a>
          </li>
          <li class="nav-item">
            <a class="nav-link fw-link"
               [class.active]="strRuta == '/admin/oferta/plist'"
               [routerLink]="'/admin/oferta/plist'">
              <i class="bi bi-briefcase"></i> Ofertas
              <span class="fw-underline"></span>
            </a>
          </li>
          <li class="nav-item">
            <a class="nav-link fw-link"
               [class.active]="strRuta == '/admin/candidatura/plist'"
               [routerLink]="'/admin/candidatura/plist'">
              <i class="bi bi-file-earmark-text"></i> Candidaturas
              <span class="fw-underline"></span>
            </a>
          </li>
        }

        <!-- ===== EMPRESA ===== -->
        @if (activeSession && isEmpresa && !isAdmin) {
          <li class="nav-item">
            <a class="nav-link fw-link"
               [class.active]="strRuta == '/admin/oferta/plist'"
               [routerLink]="'/admin/oferta/plist'">
              <i class="bi bi-briefcase"></i> Tus ofertas
              <span class="fw-underline"></span>
            </a>
          </li>
          <li class="nav-item">
            <a class="nav-link fw-link"
               [class.active]="strRuta == '/admin/candidatura/plist'"
               [routerLink]="'/admin/candidatura/plist'">
              <i class="bi bi-file-earmark-text"></i> Candidaturas
              <span class="fw-underline"></span>
            </a>
          </li>
        }

        <!-- ===== SIN SESIÓN ===== -->
        @if (!activeSession) {
          <li class="nav-item">
            <a class="nav-link fw-link"
               [class.active]="strRuta == '/oferta/plist'"
               [routerLink]="'/oferta/plist'">
              <i class="bi bi-search"></i> Ofertas
              <span class="fw-underline"></span>
            </a>
          </li>
        }
      </ul>
    </div>

    <!-- Derecha: sesión -->
    <div class="fw-right">
      @if (activeSession) {
        <span class="fw-user-email d-none d-lg-inline">{{ userEmail }}</span>
        <a class="fw-btn" [routerLink]="'/logout'" role="button">
          <i class="bi bi-box-arrow-right"></i> Logout
        </a>
      } @else {
        <span class="fw-user-email d-none d-md-inline">Inicia sesión para ver más</span>
        <a class="fw-btn" [routerLink]="'/login'" role="button">
          <i class="bi bi-box-arrow-in-right"></i> Login
        </a>
      }
    </div>
  </div>
</nav>
