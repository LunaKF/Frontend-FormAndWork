<div class="empresa-selector">

  <header class="selector-header">
    <h2 class="selector-title">
      Seleccionar empresa
    </h2>
    <p class="selector-subtitle">
      Busca y elige la empresa que deseas asociar
    </p>
  </header>

  <!-- SEARCH -->
  <div class="search-wrapper">
    <i class="bi bi-search"></i>
    <input
      type="text"
      [(ngModel)]="searchText"
      (input)="filterEmpresas()"
      placeholder="Buscar empresa por nombreâ€¦"
      class="search-input"
    />
  </div>

  <!-- LIST -->
  <div class="empresa-list">

    <div
      class="empresa-card"
      *ngFor="let empresa of filteredEmpresas; trackBy: trackByNombre"
      (click)="select(empresa)"
    >
      <div class="empresa-avatar">
        {{ empresa.nombre.substring(0,2).toUpperCase() }}
      </div>

      <div class="empresa-info">
        <h3 class="empresa-name">
          {{ empresa.nombre }}
        </h3>
        <span class="empresa-id">
          ID {{ empresa.id }}
        </span>
      </div>

      <div class="empresa-action">
        <i class="bi bi-check-circle"></i>
      </div>
    </div>

    <!-- EMPTY STATE -->
    <div class="empty-state" *ngIf="filteredEmpresas.length === 0">
      <i class="bi bi-building-slash"></i>
      <p>No se han encontrado empresas</p>
    </div>

  </div>

</div>
